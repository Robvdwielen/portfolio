# Load R-packages
library(dplyr)
library(readr)
library(ggplot2)
library(readxl)
library(data.table)
# 1. DATA INSPECTION ZALANDO PRE-OWNED HEREN
## 1.1 CLEANING
### Import dataset product_descriptions_pre-owned
product_description_pre_owned <- read_delim("../data/product_description_pre_owned.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
View(product_description_pre_owned)
### Import dataset product_descriptions_pre-owned
product_description_pre_owned <- read_delim("../data/product_description_pre_owned.csv",
delim = ";", trim_ws = TRUE)
### Import dataset product_descriptions_pre-owned
product_description_pre_owned <- read_delim("../data/product_description_pre_owned.csv",
delim = ";", trim_ws = TRUE)
View(product_description_pre_owned)
product_description_pre_owned <- read_delim("../data/product_description_pre_owned.csv",
delim = ";", escape_double = TRUE, trim_ws = TRUE)
View(product_description_pre_owned)
### Import dataset product_descriptions_pre-owned
product_description_pre_owned <- read_delim("../data/product_description_pre_owned.csv",
delim = ";", escape_double = FALSE, trim_ws = FALSE)
View(product_description_pre_owned)
### Import dataset product_descriptions_pre-owned
product_description_pre_owned <- read_delim("../data/product_description_pre_owned.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
View(product_description_pre_owned)
### Import dataset product_descriptions_pre-owned
product_description_pre_owned <- read_delim("../data/product_description_pre_owned.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
View(product_description_pre_owned)
### Import dataset product_descriptions_pre-owned
product_description_pre_owned <- read_delim("../data/product_description_pre_owned.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
View(product_description_pre_owned)
######################################
product_description_pre_owned <- read_excel("../data/product_description_pre_owned.xlsx", sheet = 1, col_names = TRUE, col_types = NULL, na = "", skip = 0)
View(product_description_pre_owned)
### Check class of every variable
class(product_description_pre_owned$brand)
class(product_description_pre_owned$price)
class(product_description_pre_owned$delivery_time)
class(product_description_pre_owned$category)
class(product_description_pre_owned$color)
class(product_description_pre_owned$size)
class(product_description_pre_owned$date)
### Remove double hyphens in $delivery_time
product_description_po_cleaned <- product_description_pre_owned %>%
mutate(delivery_time = gsub("--", "-", product_description_pre_owned$delivery_time))
### Change measurement scale of $delivery_time to categorical using as.factor
product_description_po_cleaned$delivery_time <- as.factor(product_description_po_cleaned$delivery_time)
### Transform $date into a 'date' variable
product_description_po_cleaned <- product_description_po_cleaned %>%
mutate(date_ymd = as.Date(product_description_po_cleaned$date, format = "%Y-%m-%d"))
### Relocate $date and $date_ymd
product_description_po_cleaned <- product_description_po_cleaned %>%
relocate(date, .before = url) %>%
relocate(date_ymd, .before = url)
### Write CSV file cleaned dataset "product_description_po_cleaned"
fwrite(product_description_po_cleaned, '../data/product_description_po_cleaned.csv', row.names = F)
## 1.2 INSPECTION
### General summary statistics
summary(product_description_po_cleaned)
### Exploration $brand
# Number of different brands in the dataset: In total 625 brands occur in the dataset. The number of brand is too much to plot.
brand_n_po <- product_description_po_cleaned %>%
count(brand)
# Create new dataset with the brands that occur more than 250 times: 'Next' occurs the most at Zalando Pre owned, followed by 'Marks & Spencer'.
brand_most_occur_po <- brand_n_po %>%
filter(n > 250)
ggplot(data = brand_most_occur_po, aes(x = brand, y = n)) +
geom_bar(stat = "identity", fill = "purple") +
labs(title = "Brands that occur the most at Zalando Pre-owned",
x = "Brands", y = "Number of times in dataset")
